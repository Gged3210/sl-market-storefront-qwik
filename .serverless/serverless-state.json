{
	"service": {
		"service": "qwik-lambda-app",
		"serviceObject": {
			"name": "qwik-lambda-app"
		},
		"provider": {
			"name": "aws",
			"runtime": "nodejs18.x",
			"region": "us-west-1",
			"memorySize": 128,
			"timeout": 10,
			"stage": "dev",
			"versionFunctions": true,
			"compiledCloudFormationTemplate": {
				"AWSTemplateFormatVersion": "2010-09-09",
				"Description": "The AWS CloudFormation template for this Serverless application",
				"Resources": {
					"ServerlessDeploymentBucket": {
						"Type": "AWS::S3::Bucket",
						"Properties": {
							"BucketEncryption": {
								"ServerSideEncryptionConfiguration": [
									{
										"ServerSideEncryptionByDefault": {
											"SSEAlgorithm": "AES256"
										}
									}
								]
							}
						}
					},
					"ServerlessDeploymentBucketPolicy": {
						"Type": "AWS::S3::BucketPolicy",
						"Properties": {
							"Bucket": {
								"Ref": "ServerlessDeploymentBucket"
							},
							"PolicyDocument": {
								"Statement": [
									{
										"Action": "s3:*",
										"Effect": "Deny",
										"Principal": "*",
										"Resource": [
											{
												"Fn::Join": [
													"",
													[
														"arn:",
														{
															"Ref": "AWS::Partition"
														},
														":s3:::",
														{
															"Ref": "ServerlessDeploymentBucket"
														},
														"/*"
													]
												]
											},
											{
												"Fn::Join": [
													"",
													[
														"arn:",
														{
															"Ref": "AWS::Partition"
														},
														":s3:::",
														{
															"Ref": "ServerlessDeploymentBucket"
														}
													]
												]
											}
										],
										"Condition": {
											"Bool": {
												"aws:SecureTransport": false
											}
										}
									}
								]
							}
						}
					},
					"QwikLogGroup": {
						"Type": "AWS::Logs::LogGroup",
						"Properties": {
							"LogGroupName": "/aws/lambda/qwik-lambda-app-dev-qwik"
						}
					},
					"IamRoleLambdaExecution": {
						"Type": "AWS::IAM::Role",
						"Properties": {
							"AssumeRolePolicyDocument": {
								"Version": "2012-10-17",
								"Statement": [
									{
										"Effect": "Allow",
										"Principal": {
											"Service": ["lambda.amazonaws.com"]
										},
										"Action": ["sts:AssumeRole"]
									}
								]
							},
							"Policies": [
								{
									"PolicyName": {
										"Fn::Join": ["-", ["qwik-lambda-app", "dev", "lambda"]]
									},
									"PolicyDocument": {
										"Version": "2012-10-17",
										"Statement": [
											{
												"Effect": "Allow",
												"Action": [
													"logs:CreateLogStream",
													"logs:CreateLogGroup",
													"logs:TagResource"
												],
												"Resource": [
													{
														"Fn::Sub": "arn:${AWS::Partition}:logs:${AWS::Region}:${AWS::AccountId}:log-group:/aws/lambda/qwik-lambda-app-dev*:*"
													}
												]
											},
											{
												"Effect": "Allow",
												"Action": ["logs:PutLogEvents"],
												"Resource": [
													{
														"Fn::Sub": "arn:${AWS::Partition}:logs:${AWS::Region}:${AWS::AccountId}:log-group:/aws/lambda/qwik-lambda-app-dev*:*:*"
													}
												]
											}
										]
									}
								}
							],
							"Path": "/",
							"RoleName": {
								"Fn::Join": [
									"-",
									[
										"qwik-lambda-app",
										"dev",
										{
											"Ref": "AWS::Region"
										},
										"lambdaRole"
									]
								]
							}
						}
					},
					"EnterpriseLogAccessIamRole": {
						"Type": "AWS::IAM::Role",
						"Properties": {
							"AssumeRolePolicyDocument": {
								"Version": "2012-10-17",
								"Statement": [
									{
										"Effect": "Allow",
										"Principal": {
											"AWS": "arn:aws:iam::802587217904:root"
										},
										"Action": "sts:AssumeRole",
										"Condition": {
											"StringEquals": {
												"sts:ExternalId": "ServerlessEnterprise-fc350b4a-4ac1-46fc-896e-440d2061cbde"
											}
										}
									}
								]
							},
							"Policies": [
								{
									"PolicyName": "LogFilterAccess",
									"PolicyDocument": {
										"Version": "2012-10-17",
										"Statement": [
											{
												"Effect": "Allow",
												"Action": ["logs:FilterLogEvents"],
												"Resource": [
													{
														"Fn::GetAtt": ["QwikLogGroup", "Arn"]
													}
												]
											}
										]
									}
								}
							]
						}
					},
					"QwikLambdaFunction": {
						"Type": "AWS::Lambda::Function",
						"Properties": {
							"Code": {
								"S3Bucket": {
									"Ref": "ServerlessDeploymentBucket"
								},
								"S3Key": "serverless/qwik-lambda-app/dev/1716917072497-2024-05-28T17:24:32.497Z/qwik-lambda-app.zip"
							},
							"Handler": "server/entry_aws-lambda.qwikApp",
							"Runtime": "nodejs18.x",
							"FunctionName": "qwik-lambda-app-dev-qwik",
							"MemorySize": 128,
							"Timeout": 10,
							"Role": {
								"Fn::GetAtt": ["IamRoleLambdaExecution", "Arn"]
							}
						},
						"DependsOn": ["QwikLogGroup"]
					},
					"QwikLambdaVersionDuUs0qBz8PcADDCjOZIzLbeURolo47U5UpxJIoM0": {
						"Type": "AWS::Lambda::Version",
						"DeletionPolicy": "Retain",
						"Properties": {
							"FunctionName": {
								"Ref": "QwikLambdaFunction"
							},
							"CodeSha256": "auc5C/Syztawxgpj3ReqcxOfMM6kNyNTHLXvXMnqT1Q="
						}
					},
					"HttpApi": {
						"Type": "AWS::ApiGatewayV2::Api",
						"Properties": {
							"Name": "dev-qwik-lambda-app",
							"ProtocolType": "HTTP"
						}
					},
					"HttpApiLogGroup": {
						"Type": "AWS::Logs::LogGroup",
						"Properties": {
							"LogGroupName": "/aws/http-api/qwik-lambda-app-dev"
						}
					},
					"HttpApiStage": {
						"Type": "AWS::ApiGatewayV2::Stage",
						"Properties": {
							"ApiId": {
								"Ref": "HttpApi"
							},
							"StageName": "$default",
							"AutoDeploy": true,
							"DefaultRouteSettings": {
								"DetailedMetricsEnabled": false
							},
							"AccessLogSettings": {
								"DestinationArn": {
									"Fn::GetAtt": ["HttpApiLogGroup", "Arn"]
								},
								"Format": "{\"requestTime\":\"$context.requestTime\",\"requestId\":\"$context.requestId\",\"apiId\":\"$context.apiId\",\"resourcePath\":\"$context.routeKey\",\"path\":\"$context.path\",\"httpMethod\":\"$context.httpMethod\",\"stage\":\"$context.stage\",\"status\":\"$context.status\",\"integrationStatus\":\"$context.integrationStatus\",\"integrationLatency\":\"$context.integrationLatency\",\"responseLatency\":\"$context.responseLatency\",\"responseLength\":\"$context.responseLength\",\"errorMessage\":\"$context.error.message\",\"format\":\"SLS_HTTP_API_LOG\",\"version\":\"1.0.0\"}"
							}
						},
						"DependsOn": "HttpApiLogGroup"
					},
					"QwikLambdaPermissionHttpApi": {
						"Type": "AWS::Lambda::Permission",
						"Properties": {
							"FunctionName": {
								"Fn::GetAtt": ["QwikLambdaFunction", "Arn"]
							},
							"Action": "lambda:InvokeFunction",
							"Principal": "apigateway.amazonaws.com",
							"SourceArn": {
								"Fn::Join": [
									"",
									[
										"arn:",
										{
											"Ref": "AWS::Partition"
										},
										":execute-api:",
										{
											"Ref": "AWS::Region"
										},
										":",
										{
											"Ref": "AWS::AccountId"
										},
										":",
										{
											"Ref": "HttpApi"
										},
										"/*"
									]
								]
							}
						}
					},
					"HttpApiIntegrationQwik": {
						"Type": "AWS::ApiGatewayV2::Integration",
						"Properties": {
							"ApiId": {
								"Ref": "HttpApi"
							},
							"IntegrationType": "AWS_PROXY",
							"IntegrationUri": {
								"$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"QwikLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
							},
							"PayloadFormatVersion": "2.0",
							"TimeoutInMillis": 30000
						}
					},
					"HttpApiRouteDefault": {
						"Type": "AWS::ApiGatewayV2::Route",
						"Properties": {
							"ApiId": {
								"Ref": "HttpApi"
							},
							"RouteKey": "$default",
							"Target": {
								"Fn::Join": [
									"/",
									[
										"integrations",
										{
											"Ref": "HttpApiIntegrationQwik"
										}
									]
								]
							}
						},
						"DependsOn": "HttpApiIntegrationQwik"
					}
				},
				"Outputs": {
					"ServerlessDeploymentBucketName": {
						"Value": {
							"Ref": "ServerlessDeploymentBucket"
						},
						"Export": {
							"Name": "sls-qwik-lambda-app-dev-ServerlessDeploymentBucketName"
						}
					},
					"EnterpriseLogAccessIamRole": {
						"Value": {
							"Fn::GetAtt": ["EnterpriseLogAccessIamRole", "Arn"]
						},
						"Export": {
							"Name": "sls-qwik-lambda-app-dev-EnterpriseLogAccessIamRole"
						}
					},
					"QwikLambdaFunctionQualifiedArn": {
						"Description": "Current Lambda function version",
						"Value": {
							"Ref": "QwikLambdaVersionDuUs0qBz8PcADDCjOZIzLbeURolo47U5UpxJIoM0"
						},
						"Export": {
							"Name": "sls-qwik-lambda-app-dev-QwikLambdaFunctionQualifiedArn"
						}
					},
					"HttpApiId": {
						"Description": "Id of the HTTP API",
						"Value": {
							"Ref": "HttpApi"
						},
						"Export": {
							"Name": "sls-qwik-lambda-app-dev-HttpApiId"
						}
					},
					"HttpApiUrl": {
						"Description": "URL of the HTTP API",
						"Value": {
							"Fn::Join": [
								"",
								[
									"https://",
									{
										"Ref": "HttpApi"
									},
									".execute-api.",
									{
										"Ref": "AWS::Region"
									},
									".",
									{
										"Ref": "AWS::URLSuffix"
									}
								]
							]
						},
						"Export": {
							"Name": "sls-qwik-lambda-app-dev-HttpApiUrl"
						}
					}
				}
			},
			"coreCloudFormationTemplate": {
				"AWSTemplateFormatVersion": "2010-09-09",
				"Description": "The AWS CloudFormation template for this Serverless application",
				"Resources": {
					"ServerlessDeploymentBucket": {
						"Type": "AWS::S3::Bucket",
						"Properties": {
							"BucketEncryption": {
								"ServerSideEncryptionConfiguration": [
									{
										"ServerSideEncryptionByDefault": {
											"SSEAlgorithm": "AES256"
										}
									}
								]
							}
						}
					},
					"ServerlessDeploymentBucketPolicy": {
						"Type": "AWS::S3::BucketPolicy",
						"Properties": {
							"Bucket": {
								"Ref": "ServerlessDeploymentBucket"
							},
							"PolicyDocument": {
								"Statement": [
									{
										"Action": "s3:*",
										"Effect": "Deny",
										"Principal": "*",
										"Resource": [
											{
												"Fn::Join": [
													"",
													[
														"arn:",
														{
															"Ref": "AWS::Partition"
														},
														":s3:::",
														{
															"Ref": "ServerlessDeploymentBucket"
														},
														"/*"
													]
												]
											},
											{
												"Fn::Join": [
													"",
													[
														"arn:",
														{
															"Ref": "AWS::Partition"
														},
														":s3:::",
														{
															"Ref": "ServerlessDeploymentBucket"
														}
													]
												]
											}
										],
										"Condition": {
											"Bool": {
												"aws:SecureTransport": false
											}
										}
									}
								]
							}
						}
					}
				},
				"Outputs": {
					"ServerlessDeploymentBucketName": {
						"Value": {
							"Ref": "ServerlessDeploymentBucket"
						}
					}
				}
			},
			"logs": {
				"httpApi": {
					"format": "{\"requestTime\":\"$context.requestTime\",\"requestId\":\"$context.requestId\",\"apiId\":\"$context.apiId\",\"resourcePath\":\"$context.routeKey\",\"path\":\"$context.path\",\"httpMethod\":\"$context.httpMethod\",\"stage\":\"$context.stage\",\"status\":\"$context.status\",\"integrationStatus\":\"$context.integrationStatus\",\"integrationLatency\":\"$context.integrationLatency\",\"responseLatency\":\"$context.responseLatency\",\"responseLength\":\"$context.responseLength\",\"errorMessage\":\"$context.error.message\",\"format\":\"SLS_HTTP_API_LOG\",\"version\":\"1.0.0\"}"
				}
			},
			"vpc": {}
		},
		"custom": {
			"serverless-offline": {
				"httpPort": 4000
			}
		},
		"plugins": ["serverless-offline"],
		"pluginsData": {},
		"functions": {
			"qwik": {
				"handler": "server/entry_aws-lambda.qwikApp",
				"events": [
					{
						"httpApi": "*",
						"resolvedMethod": "ANY"
					}
				],
				"name": "qwik-lambda-app-dev-qwik",
				"package": {},
				"memory": 128,
				"timeout": 10,
				"runtime": "nodejs18.x",
				"vpc": {},
				"versionLogicalId": "QwikLambdaVersionDuUs0qBz8PcADDCjOZIzLbeURolo47U5UpxJIoM0"
			}
		},
		"configValidationMode": "warn",
		"serviceFilename": "serverless.yml",
		"initialServerlessConfig": {
			"service": "qwik-lambda-app",
			"frameworkVersion": "3",
			"provider": {
				"$ref": "$[\"service\"][\"provider\"]"
			},
			"functions": {
				"$ref": "$[\"service\"][\"functions\"]"
			},
			"custom": {
				"$ref": "$[\"service\"][\"custom\"]"
			},
			"package": {
				"excludeDevDependencies": true,
				"patterns": ["!*", "!*/**", "server/**", "dist/**"],
				"artifactsS3KeyDirname": "serverless/qwik-lambda-app/dev/code-artifacts",
				"artifact": "/home/edwin/dev/sl-market-storefront-qwik/.serverless/qwik-lambda-app.zip",
				"artifactDirectoryName": "serverless/qwik-lambda-app/dev/1716917072497-2024-05-28T17:24:32.497Z"
			},
			"plugins": {
				"$ref": "$[\"service\"][\"plugins\"]"
			},
			"org": "surplusloop",
			"app": "qwik-lambda-app"
		},
		"app": "qwik-lambda-app",
		"org": "surplusloop",
		"layers": {},
		"isDashboardMonitoringPreconfigured": true,
		"isDashboardAppPreconfigured": true,
		"orgUid": "fc350b4a-4ac1-46fc-896e-440d2061cbde",
		"appUid": "dtGrCy0rPzQLNqxx2C",
		"artifact": "/home/edwin/dev/sl-market-storefront-qwik/.serverless/qwik-lambda-app.zip"
	},
	"package": {
		"artifactDirectoryName": "serverless/qwik-lambda-app/dev/1716917072497-2024-05-28T17:24:32.497Z",
		"artifact": "qwik-lambda-app.zip"
	}
}
